<launch>
  <arg name="cam_name" value="camera" />

  <!-- Start the GSCAM node -->
  <env name="GSCAM_CONFIG" value="v4l2src device=/dev/video1 ! video/x-raw-yuv,framerate=30/1,width=640,height=480 ! ffmpegcolorspace " />
  <node pkg="gscam" type="gscam" name="$(arg cam_name)">
    <param name="camera_name" value="$(arg cam_name)" />
    <!--<param name="camera_info_url" value="package://localcam/calibrations/${NAME}.yaml" />-->
    <remap from="camera/image_raw" to="$(arg cam_name)/image_raw" />
  </node>

  <!-- Start our service node and opencv node -->
  <node pkg = "assignment_5" type = "motion_mode_keyboard" name = "motion_mode_keyboard"
    output="screen" launch-prefix="gnome-terminal -e" />
  <node pkg = "assignment_5" type = "motion_detector" name = "motion_detector"
    output="screen" />


    <node pkg="image_view" type="image_view" name="raw_image" >
        <remap from="image" to="/$(arg cam_name)/image_raw" />
    </node>
    
    <node pkg="image_view" type="image_view" name="raw_image_cropped" >
        <remap from="image" to="/camera/image_raw_cropped" />
    </node>



</launch>
